(this["webpackJsonpreact-express"]=this["webpackJsonpreact-express"]||[]).push([[0],{19:function(t,e){t.exports={thousandSeparator:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},68:function(t,e,a){},74:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),r=a(37),s=a.n(r),i=a(3),o=a.n(i),u=a(8),j=a(4),b=a(9),l=a.n(b),d=a(6),h=a(2),O=(a(68),a(1)),p=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"navbar",children:[Object(O.jsx)("h4",{className:"navbar-brand",children:"React x Express"}),Object(O.jsxs)("ul",{className:"link-wrapper",children:[Object(O.jsx)("li",{className:"link",children:Object(O.jsx)(d.c,{exact:!0,to:"/",children:"Home"})}),Object(O.jsx)("li",{className:"link",children:Object(O.jsx)(d.c,{to:"/tambah",children:"Tambah"})})]})]})})},x=(a(74),a(19)),m=a(40),f=function(){return Object(O.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%"},children:Object(O.jsx)(m.a,{color:"#ee5253",height:80,width:80})})},v=function(t){var e=t.isLoading,a=t.detail,c=t.data,n=t.id;return e?Object(O.jsx)(f,{}):Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)(d.b,{to:"/",className:"btn btn-primary",children:"Kembali"}),Object(O.jsx)("table",{className:"table",children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"ID"}),Object(O.jsxs)("td",{children:[": ",c.map((function(t){return t._id})).indexOf(n)+1]})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Name"}),Object(O.jsxs)("td",{children:[": ",a.name]})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Price"}),Object(O.jsxs)("td",{children:[": Rp. ",a.length<1?0:Object(x.thousandSeparator)(a.price)]})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Stock"}),Object(O.jsxs)("td",{children:[": ",a.stock]})]})]})})]})},g=function(t){var e=t.data,a=Object(h.g)().id,n=Object(c.useState)([]),r=Object(j.a)(n,2),s=r[0],i=r[1],b=Object(c.useState)(!0),d=Object(j.a)(b,2),p=d[0],x=d[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l()("http://localhost:3000/api/v1/product/".concat(a));case 2:e=t.sent,i(e.data),setTimeout((function(){x(!1)}),500);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[a]),Object(O.jsx)(v,{isLoading:p,detail:s,data:e,id:a})},k=a(13),N=a.n(k),S=a(24),y=function(t){return"checkbox"===t.type?Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(S.a)({className:t.error&&"is-invalid"},t)),Object(O.jsx)("label",{children:t.label}),t.error&&t.error.map((function(t){return Object(O.jsxs)("p",{className:"invalid",children:["* ",t]},t)}))]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:t.label}),Object(O.jsx)("input",Object(S.a)({className:"form-control ".concat(t.error&&"is-invalid")},t)),t.error&&t.error.map((function(t){return Object(O.jsxs)("p",{className:"invalid",children:["* ",t]},t)}))]})},w=function(t){var e=t.isLoading,a=t.name,c=t.price,n=t.stock,r=t.status,s=t.id,i=t.setName,j=t.setPrice,b=t.setStock,p=t.setStatus,x=Object(h.f)(),m=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,l.a.put("http://localhost:3000/api/v1/product/".concat(s),{name:a,price:c,stock:n,status:r});case 3:x.push("/"),N()({title:"Data berhasil diubah!",icon:"success"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e?Object(O.jsx)(f,{}):Object(O.jsx)("div",{className:"main",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{children:"Edit Produk"}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{onSubmit:m,children:[Object(O.jsx)(y,{name:"name",type:"text",placeholder:"Nama Produk...",label:"Nama",value:a,onChange:function(t){return i(t.target.value)}}),Object(O.jsx)(y,{name:"price",type:"number",placeholder:"Harga Produk...",label:"Harga",value:c,onChange:function(t){return j(t.target.value)}}),Object(O.jsx)(y,{name:"Stock",type:"number",placeholder:"Stock Produk...",label:"Stock",value:n,onChange:function(t){return b(t.target.value)}}),Object(O.jsx)(y,{name:"status",id:"status",type:"checkbox",label:"Active",checked:r,onChange:function(t){return p(t.target.checked)}}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Simpan"}),Object(O.jsx)(d.b,{to:"/",className:"btn btn-danger",children:"Batal"})]})]})})},P=function(){var t=Object(c.useState)(""),e=Object(j.a)(t,2),a=e[0],n=e[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],b=s[1],d=Object(c.useState)(""),p=Object(j.a)(d,2),x=p[0],m=p[1],f=Object(c.useState)(""),v=Object(j.a)(f,2),g=v[0],k=v[1],N=Object(c.useState)(!0),S=Object(j.a)(N,2),y=S[0],P=S[1],C=Object(h.g)().id;return Object(c.useEffect)((function(){var t=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("http://localhost:3000/api/v1/product/".concat(C));case 2:e=t.sent,n(e.data.name),b(parseInt(e.data.price)),m(parseInt(e.data.stock)),k(JSON.parse(e.data.status)),setTimeout((function(){P(!1)}),500),console.log([e.data.name,e.data.price,e.data.stock,e.data.status]);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[C]),Object(O.jsx)(w,{isLoading:y,name:a,price:i,stock:x,status:g,id:C,setName:n,setPrice:b,setStock:m,setStatus:k})},C=function(t){var e=t.isLoading,a=t.data,c=t.getData,n=t.setLoading;return e?Object(O.jsx)(f,{}):Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"ID"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{className:"text-right",children:"Price"}),Object(O.jsx)("th",{className:"text-center",children:"Action"})]})}),Object(O.jsx)("tbody",{children:a.map((function(t,e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e+1}),Object(O.jsx)("td",{children:t.name}),Object(O.jsxs)("td",{className:"text-right",children:["RP. ",Object(x.thousandSeparator)(t.price)]}),Object(O.jsxs)("td",{className:"text-center",children:[Object(O.jsx)(d.b,{to:"/detail/".concat(t._id),className:"btn btn-sm btn-info",children:"Detail"}),Object(O.jsx)(d.b,{to:"/edit/".concat(t._id),className:"btn btn-sm btn-warning",children:"Edit"}),Object(O.jsx)("button",{onClick:function(){return e=t._id,void N()({title:"Anda yakin akan menghapus data ini?",icon:"warning",buttons:["Tidak","Ya"],dangerMode:!0}).then(function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.next=3,l.a.delete("http://localhost:3000/api/v1/product/".concat(e));case 3:c(),N()("Data telah dihapus!",{icon:"success"}),n(!0),t.next=9;break;case 8:N()("Batal menghapus data!");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var e},className:"btn btn-sm btn-danger",children:"Delete"})]})]},e)}))})]})},D=(a(76),function(){var t=Object(c.useState)([]),e=Object(j.a)(t,2),a=e[0],n=e[1],r=Object(c.useState)([]),s=Object(j.a)(r,2),i=s[0],b=s[1],h=Object(c.useState)(!0),p=Object(j.a)(h,2),x=p[0],m=p[1],f=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l()("http://localhost:3000/api/v1/product?name=".concat(i));case 2:e=t.sent,n(e.data),setTimeout((function(){m(!1)}),500);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[i]);return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)(d.b,{to:"/tambah",className:"btn btn-primary",children:"Tambah Produk"}),Object(O.jsx)("div",{className:"search",children:Object(O.jsx)("input",{type:"text",onChange:function(t){var e=t.target.value.toLowerCase();console.log(e),m(!0),b(e)},placeholder:"Masukan kata kunci..."})}),Object(O.jsx)(C,{isLoading:x,data:a,getData:f,setLoading:m})]})}),L=(a(77),function(){var t=Object(c.useState)(""),e=Object(j.a)(t,2),a=e[0],n=e[1],r=Object(c.useState)(0),s=Object(j.a)(r,2),i=s[0],b=s[1],p=Object(c.useState)(0),x=Object(j.a)(p,2),m=x[0],f=x[1],v=Object(c.useState)(!1),g=Object(j.a)(v,2),k=g[0],S=g[1],w=Object(h.f)(),P=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,l.a.post("http://localhost:3000/api/v1/product",{name:a,price:parseInt(i),stock:parseInt(m),status:k}).then((function(t){return console.log(t.data)}));case 3:w.push("/"),N()({title:"Data berhasil ditambahkan!",icon:"success"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"main",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{children:"Tambah Produk"}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{onSubmit:P,children:[Object(O.jsx)(y,{name:"name",type:"text",placeholder:"Nama Produk...",label:"Nama",value:a,onChange:function(t){return n(t.target.value)}}),Object(O.jsx)(y,{name:"price",type:"number",placeholder:"Harga Produk...",label:"Harga",value:i,onChange:function(t){return b(t.target.value)}}),Object(O.jsx)(y,{name:"Stock",type:"number",placeholder:"Stock Produk...",label:"Stock",value:m,onChange:function(t){return f(t.target.value)}}),Object(O.jsx)(y,{name:"status",type:"checkbox",label:"Active",checked:k,onChange:function(t){return S(t.target.checked)}}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Simpan"}),Object(O.jsx)(d.b,{to:"/",className:"btn btn-danger",children:"Batal"})]})]})})}),T=function(){var t=Object(c.useState)([]),e=Object(j.a)(t,2),a=e[0],n=e[1],r=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("http://localhost:3000/api/v1/product").then((function(t){return n(t.data)})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[]),Object(O.jsx)("div",{children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(p,{}),Object(O.jsxs)(h.c,{children:[Object(O.jsx)(h.a,{path:"/",exact:!0,children:function(){return Object(O.jsx)(D,{})}}),Object(O.jsx)(h.a,{path:"/detail/:id",children:function(){return Object(O.jsx)(g,{data:a})}}),Object(O.jsx)(h.a,{path:"/edit/:id",children:function(){return Object(O.jsx)(P,{})}}),Object(O.jsx)(h.a,{path:"/tambah",children:function(){return Object(O.jsx)(L,{})}})]})]})})},E=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,80)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),c(t),n(t),r(t),s(t)}))};a(78);s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),E()}},[[79,1,2]]]);
//# sourceMappingURL=main.c1d5d7e3.chunk.js.map